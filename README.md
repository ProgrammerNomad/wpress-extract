# wpress-extract

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A simple command-line interface (CLI) tool for extracting `.wpress` archive files generated by the [All-in-One WP Migration](https://servmask.com/products/all-in-one-wp-migration) WordPress plugin.

## Features

-   Extracts files and directories from `.wpress` archives.
-   Provides progress updates during extraction.
-   Handles large files efficiently using streams.
-   Option to override an existing output directory.
-   User friendly CLI interface

## Installation

```bash
npm install wpress-extract
````

## Usage

```bash
wpress-extract <input.wpress> [options]
```

**Arguments:**

  - `<input.wpress>`: **(Required)** Path to the `.wpress` archive file you want to extract.

**Options:**

  - `-o, --out <directory>`: Specify the output directory where the contents of the archive will be extracted. If not specified, a directory with the same name as the input file (without the `.wpress` extension) will be created in the same directory as the input file.
  - `-f, --force`: Override the output directory if it already exists. **Use with caution\!**
  - `-h, --help`: Display help information.

**Examples:**

  - Extract `backup.wpress` to a new directory named `backup`:

    ```bash
    wpress-extract backup.wpress
    ```

  - Extract `my-site.wpress` to a specific directory `/path/to/output`:

    ```bash
    wpress-extract my-site.wpress -o /path/to/output
    ```

  - Extract `data.wpress` to an existing directory `my-data` and override its contents:

    ```bash
    wpress-extract data.wpress -o my-data -f
    ```

## Progress Display

The tool displays a progress bar during the extraction process:

```
Extracting content to: relative/path/to/output/
Progress: [==============================] 100%
```

## Error Handling

If any errors occur during the extraction process, the tool will display an error message and stop the progress bar. For example:

```
Progress: [====================>-------------] 58%
Error: Output dir is not empty. Clear it first or use the --force option to override it.
```

## Contributing

Contributions are welcome\! Please feel free to submit issues or pull requests to the repository: [https://github.com/ProgrammerNomad/wpress-extract](https://github.com/ProgrammerNomad/wpress-extract)

## Contributors

  - [https://github.com/ofhouse](https://github.com/ofhouse)
  - [https://github.com/ProgrammerNomad](https://github.com/ProgrammerNomad)

## License

This project is licensed under the MIT License - see the [LICENSE](https://www.google.com/url?sa=E&source=gmail&q=https://www.google.com/url?sa=E%26source=gmail%26q=LICENSE) file for details.

## Notes

  - This tool is not affiliated with or endorsed by ServMask (the creators of All-in-One WP Migration).
  - It is recommended to back up any existing data before using the `-f` (force) option.

## Development

### Getting Started

1.  Clone the repository:
    ```bash
    git clone [https://github.com/ProgrammerNomad/wpress-extract](https://github.com/ProgrammerNomad/wpress-extract)
    ```
2.  Install dependencies:
    ```bash
    npm install
    ```

### Scripts

  - `npm start`: Run the CLI tool with the provided arguments.
  - `npm run lint`: Run ESLint to check for code style issues.
  - `npm run format`: Run Prettier to automatically format the code.
  - `npm test`: Run tests (currently, there are no tests specified).

### Building from Source

If you want to build the executable from the source:

1.  Make sure you have Node.js and npm installed.
2.  Clone this repository.
3.  Install dependencies: `npm install`
4.  Run the CLI directly using Node.js: `node cli.js <input.wpress> [options]`